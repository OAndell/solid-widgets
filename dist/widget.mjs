function e(e){return Object.keys(e).reduce(((t,n)=>{const o=e[n];var s;return t[n]=Object.assign({},o),r(o.value)&&(s=o.value,"[object Function]"!==Object.prototype.toString.call(s))&&!Array.isArray(o.value)&&(t[n].value=Object.assign({},o.value)),Array.isArray(o.value)&&(t[n].value=o.value.slice(0)),t}),{})}function t(e){if(e)try{return JSON.parse(e)}catch(t){return e}}function n(e,t,n){if(null==n||!1===n)return e.removeAttribute(t);let r=JSON.stringify(n);e.__updating[t]=!0,"true"===r&&(r=""),e.setAttribute(t,r),Promise.resolve().then((()=>delete e.__updating[t]))}function r(e){return null!=e&&("object"==typeof e||"function"==typeof e)}let o;function s(r,s){const i=Object.keys(s);return class extends r{static get observedAttributes(){return i.map((e=>s[e].attribute))}constructor(){super(),this.__initialized=!1,this.__released=!1,this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props={}}connectedCallback(){if(this.__initialized)return;this.__releaseCallbacks=[],this.__propertyChangedCallbacks=[],this.__updating={},this.props=function(r,o){const s=e(o);return Object.keys(o).forEach((e=>{const o=s[e],i=r.getAttribute(o.attribute),l=r[e];i&&(o.value=o.parse?t(i):i),null!=l&&(o.value=Array.isArray(l)?l.slice(0):l),o.reflect&&n(r,o.attribute,o.value),Object.defineProperty(r,e,{get:()=>o.value,set(t){const r=o.value;o.value=t,o.reflect&&n(this,o.attribute,o.value);for(let n=0,o=this.__propertyChangedCallbacks.length;n<o;n++)this.__propertyChangedCallbacks[n](e,t,r)},enumerable:!0,configurable:!0})})),s}(this,s);const r=function(e){return Object.keys(e).reduce(((t,n)=>(t[n]=e[n].value,t)),{})}(this.props),i=this.Component,l=o;try{o=this,this.__initialized=!0,"function"==typeof(u=i)&&0===u.toString().indexOf("class")?new i(r,{element:this}):i(r,{element:this})}finally{o=l}var u}async disconnectedCallback(){if(await Promise.resolve(),this.isConnected)return;this.__propertyChangedCallbacks.length=0;let e=null;for(;e=this.__releaseCallbacks.pop();)e(this);delete this.__initialized,this.__released=!0}attributeChangedCallback(e,n,r){if(this.__initialized&&!this.__updating[e]&&(e=this.lookupProp(e))in s){if(null==r&&!this[e])return;this[e]=s[e].parse?t(r):r}}lookupProp(e){if(s)return i.find((t=>e===t||e===s[t].attribute))}get renderRoot(){return this.shadowRoot||this.attachShadow({mode:"open"})}addReleaseCallback(e){this.__releaseCallbacks.push(e)}addPropertyChangedCallback(e){this.__propertyChangedCallbacks.push(e)}}}function i(e,t={},n={}){const{BaseElement:o=HTMLElement,extension:i}=n;return n=>{if(!e)throw new Error("tag is required to register a Component");let l=customElements.get(e);return l?(l.prototype.Component=n,l):(l=s(o,function(e){return e?Object.keys(e).reduce(((t,n)=>{const o=e[n];return t[n]=r(o)&&"value"in o?o:{value:o},t[n].attribute||(t[n].attribute=n.replace(/\.?([A-Z]+)/g,((e,t)=>"-"+t.toLowerCase())).replace("_","-").replace(/^-/,"")),t[n].parse="parse"in t[n]?t[n].parse:"string"!=typeof t[n].value,t}),{}):{}}(t)),l.prototype.Component=n,l.prototype.registeredTag=e,customElements.define(e,l,i),l)}}const l={};const u={equals:(e,t)=>e===t};let a=T;const c=1,f=2,p={owned:null,cleanups:null,context:null,owner:null};var d=null;let h=null,g=null,b=null,v=null,y=0;function _(e,t){const n={value:e,observers:null,observerSlots:null,comparator:(t=t?Object.assign({},u,t):u).equals||void 0};return[x.bind(n),e=>("function"==typeof e&&(e=e(n.value)),A(n,e))]}function w(e,t,n){S(k(e,t,!1,c))}function m(e,t,n){a=O;const r=k(e,t,!1,c);r.user=!0,v?v.push(r):S(r)}function C(e){if(null===g)return e();const t=g;g=null;try{return e()}finally{g=t}}function x(){const e=h;if(this.sources&&(this.state||e))if(this.state===c||e)S(this);else{const e=b;b=null,N((()=>q(this)),!1),b=e}if(g){const e=this.observers?this.observers.length:0;g.sources?(g.sources.push(this),g.sourceSlots.push(e)):(g.sources=[this],g.sourceSlots=[e]),this.observers?(this.observers.push(g),this.observerSlots.push(g.sources.length-1)):(this.observers=[g],this.observerSlots=[g.sources.length-1])}return this.value}function A(e,t,n){let r=e.value;return e.comparator&&e.comparator(r,t)||(e.value=t,e.observers&&e.observers.length&&N((()=>{for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t],r=h&&h.running;r&&h.disposed.has(n),(r&&!n.tState||!r&&!n.state)&&(n.pure?b.push(n):v.push(n),n.observers&&E(n)),r||(n.state=c)}if(b.length>1e6)throw b=[],new Error}),!1)),t}function S(e){if(!e.fn)return;$(e);const t=d,n=g,r=y;g=d=e,function(e,t,n){let r;try{r=e.fn(t)}catch(t){return e.pure&&(e.state=c,e.owned&&e.owned.forEach($),e.owned=null),e.updatedAt=n+1,z(t)}(!e.updatedAt||e.updatedAt<=n)&&(null!=e.updatedAt&&"observers"in e?A(e,r):e.value=r,e.updatedAt=n)}(e,e.value,r),g=n,d=t}function k(e,t,n,r=c,o){const s={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:d,context:null,pure:n};return null===d||d!==p&&(d.owned?d.owned.push(s):d.owned=[s]),s}function j(e){const t=h;if(0===e.state||t)return;if(e.state===f||t)return q(e);if(e.suspense&&C(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<y);)(e.state||t)&&n.push(e);for(let r=n.length-1;r>=0;r--)if((e=n[r]).state===c||t)S(e);else if(e.state===f||t){const t=b;b=null,N((()=>q(e,n[0])),!1),b=t}}function N(e,t){if(b)return e();let n=!1;t||(b=[]),v?n=!0:v=[],y++;try{const t=e();return function(e){b&&(T(b),b=null);if(e)return;const t=v;v=null,t.length&&N((()=>a(t)),!1)}(n),t}catch(e){n||(v=null),b=null,z(e)}}function T(e){for(let t=0;t<e.length;t++)j(e[t])}function O(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:j(r)}var r;for(l.context&&(l.context=r),t=0;t<n;t++)j(e[t])}function q(e,t){const n=h;e.state=0;for(let r=0;r<e.sources.length;r+=1){const o=e.sources[r];o.sources&&(o.state===c||n?o!==t&&(!o.updatedAt||o.updatedAt<y)&&j(o):(o.state===f||n)&&q(o,t))}}function E(e){const t=h;for(let n=0;n<e.observers.length;n+=1){const r=e.observers[n];r.state&&!t||(r.state=f,r.pure?b.push(r):v.push(r),r.observers&&E(r))}}function $(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),n=e.sourceSlots.pop(),r=t.observers;if(r&&r.length){const e=r.pop(),o=t.observerSlots.pop();n<r.length&&(e.sourceSlots[o]=n,r[n]=e,t.observerSlots[n]=o)}}if(e.owned){for(t=0;t<e.owned.length;t++)$(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function z(e){throw e=function(e){return e instanceof Error||"string"==typeof e?e:new Error("Unknown error")}(e)}function B(e,t,n){const r=document.createElement("template");if(r.innerHTML=e,t&&r.innerHTML.split("<").length-1!==t)throw`The browser resolved template HTML does not match JSX input:\n${r.innerHTML}\n\n${e}. Is your HTML properly formed?`;let o=r.content.firstChild;return n&&(o=o.firstChild),o}function M(e,t,n,r){if(void 0===n||r||(r=[]),"function"!=typeof t)return P(e,t,r,n);w((r=>P(e,t(),r,n)),r)}function P(e,t,n,r,o){for(l.context&&!n&&(n=[...e.childNodes]);"function"==typeof n;)n=n();if(t===n)return n;const s=typeof t,i=void 0!==r;if(e=i&&n[0]&&n[0].parentNode||e,"string"===s||"number"===s){if(l.context)return n;if("number"===s&&(t=t.toString()),i){let o=n[0];o&&3===o.nodeType?o.data=t:o=document.createTextNode(t),n=H(e,n,r,o)}else n=""!==n&&"string"==typeof n?e.firstChild.data=t:e.textContent=t}else if(null==t||"boolean"===s){if(l.context)return n;n=H(e,n,r)}else{if("function"===s)return w((()=>{let o=t();for(;"function"==typeof o;)o=o();n=P(e,o,n,r)})),()=>n;if(Array.isArray(t)){const s=[],u=n&&Array.isArray(n);if(L(s,t,n,o))return w((()=>n=P(e,s,n,r,!0))),()=>n;if(l.context){if(!s.length)return n;for(let e=0;e<s.length;e++)if(s[e].parentNode)return n=s}if(0===s.length){if(n=H(e,n,r),i)return n}else u?0===n.length?R(e,s,r):function(e,t,n){let r=n.length,o=t.length,s=r,i=0,l=0,u=t[o-1].nextSibling,a=null;for(;i<o||l<s;)if(t[i]!==n[l]){for(;t[o-1]===n[s-1];)o--,s--;if(o===i){const t=s<r?l?n[l-1].nextSibling:n[s-l]:u;for(;l<s;)e.insertBefore(n[l++],t)}else if(s===l)for(;i<o;)a&&a.has(t[i])||t[i].remove(),i++;else if(t[i]===n[s-1]&&n[l]===t[o-1]){const r=t[--o].nextSibling;e.insertBefore(n[l++],t[i++].nextSibling),e.insertBefore(n[--s],r),t[o]=n[s]}else{if(!a){a=new Map;let e=l;for(;e<s;)a.set(n[e],e++)}const r=a.get(t[i]);if(null!=r)if(l<r&&r<s){let u,c=i,f=1;for(;++c<o&&c<s&&null!=(u=a.get(t[c]))&&u===r+f;)f++;if(f>r-l){const o=t[i];for(;l<r;)e.insertBefore(n[l++],o)}else e.replaceChild(n[l++],t[i++])}else i++;else t[i++].remove()}}else i++,l++}(e,n,s):(n&&H(e),R(e,s));n=s}else if(t instanceof Node){if(l.context&&t.parentNode)return n=i?[t]:t;if(Array.isArray(n)){if(i)return n=H(e,n,r,t);H(e,n,null,t)}else null!=n&&""!==n&&e.firstChild?e.replaceChild(t,e.firstChild):e.appendChild(t);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function L(e,t,n,r){let o=!1;for(let s=0,i=t.length;s<i;s++){let i=t[s],l=n&&n[s];if(i instanceof Node)e.push(i);else if(null==i||!0===i||!1===i);else if(Array.isArray(i))o=L(e,i,l)||o;else if("function"==typeof i)if(r){for(;"function"==typeof i;)i=i();o=L(e,Array.isArray(i)?i:[i],Array.isArray(l)?l:[l])||o}else e.push(i),o=!0;else{const t=String(i);"<!>"===t?l&&8===l.nodeType&&e.push(l):l&&3===l.nodeType&&l.data===t?e.push(l):e.push(document.createTextNode(t))}}return o}function R(e,t,n=null){for(let r=0,o=t.length;r<o;r++)e.insertBefore(t[r],n)}function H(e,t,n,r){if(void 0===n)return e.textContent="";const o=r||document.createTextNode("");if(t.length){let r=!1;for(let s=t.length-1;s>=0;s--){const i=t[s];if(o!==i){const t=i.parentNode===e;r||s?t&&i.remove():t?e.replaceChild(o,i):e.insertBefore(o,n)}else r=!0}}else e.insertBefore(o,n);return[o]}function I(e){return(t,n)=>{const{element:r}=n;return function(e,t){const n=g,r=d,o=0===e.length,s=o?p:{owned:null,cleanups:null,context:null,owner:void 0===t?r:t},i=o?e:()=>e((()=>C((()=>$(s)))));d=s,g=null;try{return N(i,!0)}finally{g=n,d=r}}((o=>{const s=function(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const[o,s]=_(e[t[r]]);Object.defineProperty(n,t[r],{get:o,set(e){s((()=>e))}})}return n}(t);r.addPropertyChangedCallback(((e,t)=>s[e]=t)),r.addReleaseCallback((()=>{r.renderRoot.textContent="",o()}));const i=e(s,n);return M(r.renderRoot,i)}),function(e){if(e.assignedSlot&&e.assignedSlot._$owner)return e.assignedSlot._$owner;let t=e.parentNode;for(;t&&!t._$owner&&(!t.assignedSlot||!t.assignedSlot._$owner);)t=t.parentNode;return t&&t.assignedSlot?t.assignedSlot._$owner:e._$owner}(r))}}var J=[],F=[];var U='.quote__blockquote {\n    font-size: 1.25em;\n    height: 100px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n}\n  \n.quote__wrapper {\n    background: var(--oa-widget-reviews-background);\n    color: var(--oa-widget-reviews-color);\n    padding: 20px;\n    text-align: start;\n    border-radius: 1em;\n    box-shadow: var(--oa-widget-reviews-box-shadow);\n    font-family: "Roboto Mono";\n}\n  \n.quote__wrapper:before {\n    content: "“";\n    font-size: 4em;\n    position: absolute;\n}\n  \n.quote__citation {\n    padding: 1em;\n    font-size: 1.5em;\n    display: flex;\n    justify-content: space-between;\n}\n  \n\n@keyframes fadeIn {\n    0% { opacity: 0; }\n    100% { opacity: 1; }\n}';!function(e,t){if(e&&"undefined"!=typeof document){var n,r=!0===t.prepend?"prepend":"append",o=!0===t.singleTag,s="string"==typeof t.container?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(o){var i=J.indexOf(s);-1===i&&(i=J.push(s)-1,F[i]={}),n=F[i]&&F[i][r]?F[i][r]:F[i][r]=l()}else n=l();65279===e.charCodeAt(0)&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function l(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),t.attributes)for(var n=Object.keys(t.attributes),o=0;o<n.length;o++)e.setAttribute(n[o],t.attributes[n[o]]);var i="prepend"===r?"afterbegin":"beforeend";return s.insertAdjacentElement(i,e),e}}(U,{});const X=B('<span class="review__rating__star">★</span>',2),Z=B('<figure class="quote__wrapper"><style></style><blockquote class="quote__blockquote"> </blockquote><figcaption class="quote__citation"><cite></cite><div></div></figcaption></figure>',12),D=e=>{const[t,n]=_([]),[r,o]=_(0);m((()=>{fetch(`https://websiteserver.lodgify.com/v2/websites/reviews/website/${e.website}/property/${e.property}?page=1&count=100`).then((e=>e.json())).then((e=>{n(e.reviews)})).catch((e=>{console.error(e)}))})),m((()=>{setInterval((()=>{const e=r()+1;o(e>t().length-1?0:e)}),4e3)}));return(()=>{const e=Z.cloneNode(!0),n=e.firstChild,o=n.nextSibling,s=o.firstChild,i=o.nextSibling.firstChild,l=i.nextSibling;return M(n,U),M(o,(()=>t()[r()]?.text),s),M(i,(()=>`-${t()[r()]?.author}`)),M(l,(()=>((e=0)=>Array(e).fill(0).map((()=>X.cloneNode(!0))))(t()[r()]?.rating))),e})()};!function(e,t,n){2===arguments.length&&(n=t,t={}),i(e,t)(I(n))}("review-widget",{website:"314075",property:"315887"},D);
